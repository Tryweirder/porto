# yandex-porto - Porto is component of Nirvana.
#
# Porto is a service which allows to run processes in isolated namespaces.

description	"Porto"
author "Eugene Kilimchuk <ekilimchuk@yandex-team.ru>"

start on stopped networking
stop on runlevel [!2345]

respawn

kill signal SIGINT
kill timeout 300

env PORTO_NAME

pre-start script

	# do not start porto in porto-container
	if [ -n "$PORTO_NAME" ] ; then
		stop
		exit 0
	fi

end script

exec portod
